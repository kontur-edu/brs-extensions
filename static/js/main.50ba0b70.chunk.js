(this["webpackJsonpbrs-extensions"]=this["webpackJsonpbrs-extensions"]||[]).push([[0],{207:function(e,t,n){},235:function(e,t){},237:function(e,t){},247:function(e,t){},249:function(e,t){},274:function(e,t){},276:function(e,t){},277:function(e,t){},283:function(e,t){},285:function(e,t){},303:function(e,t){},305:function(e,t){},317:function(e,t){},320:function(e,t){},325:function(e,t){},327:function(e,t){},350:function(e,t){},445:function(e,t,n){"use strict";n.r(t);var r,a,c=n(3),o=n(38),s=n.n(o),i=n(201),u=n.n(i),l=(n(207),n(2)),d=n.n(l),p=n(33),f=n(11),h=n(45),b=(n(16),n(109),n(108)),j=n.n(b),g="https://brs-proxy.herokuapp.com/brs/https://brs.urfu.ru/mrd",v="null";function x(e){v=e}function O(e,t,n,r){return m.apply(this,arguments)}function m(){return(m=Object(f.a)(d.a.mark((function e(t,n,r,a){var c,o,s,i,u,l,f,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="?year=".concat(t,"&termType=").concat(n,"&course=").concat(r,"&total=0&page=1&pageSize=1000&search="),!a){e.next=10;break}return e.next=4,y("/mvc/mobile/module/fetch"+c);case 4:o=e.sent,s=Object(p.a)(o);try{for(s.s();!(i=s.n()).done;)i.value.isModule=!0}catch(d){s.e(d)}finally{s.f()}return e.abrupt("return",o);case 10:return e.next=12,y("/mvc/mobile/discipline/fetch"+c);case 12:u=e.sent,l=u.content,f=Object(p.a)(l);try{for(f.s();!(h=f.n()).done;)h.value.isModule=!1}catch(d){f.e(d)}finally{f.f()}return e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,n,r);case 2:if(!(a=e.sent).trimLeft().startsWith("<!DOCTYPE html>")){e.next=5;break}throw new Error(t+" is Forbidden");case 5:return e.abrupt("return",JSON.parse(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n){return w.apply(this,arguments)}function w(){return(w=Object(f.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}throw new Error("Not authenticated. Use authByConfigAsync or authAsync to authenticate");case 2:return console.log("Sid:",v),e.abrupt("return",j()(Object(h.a)(Object(h.a)({method:"GET"},n),{},{url:g+t,headers:Object(h.a)({"X-Cookie":"JSESSIONID=".concat(v),"X-Requested-With":"XMLHttpRequest"},r)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.NoFailure=-1]="NoFailure",e[e.NotChosen=-19]="NotChosen",e[e.NotAllowedByDeansOffice=-18]="NotAllowedByDeansOffice",e[e.NotAppeared=0]="NotAppeared",e[e.DisrespectfulReason=12]="DisrespectfulReason",e[e.RespectfulReason=13]="RespectfulReason",e[e.NotAllowedByTeacher=18]="NotAllowedByTeacher",e[e.ShouldNotPass=19]="ShouldNotPass",e[e.AcademicLeave=20]="AcademicLeave",e[e.DroppedOut=21]="DroppedOut"}(r||(r={})),function(e){e[e.Fall=1]="Fall",e[e.Spring=2]="Spring"}(a||(a={}));function I(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"button",value:"Load BRS",onClick:C}),Object(c.jsx)("div",{className:"response-field",id:"brs-response-field",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("caption",{children:"Available disciplines"}),Object(c.jsx)("tr",{children:Object(c.jsx)("th",{children:"Discipline"})})]})})]})}function C(){return k.apply(this,arguments)}function k(){return(k=Object(f.a)(d.a.mark((function e(){var t,n,r,c,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("sid")){e.next=4;break}return alert("No sid!"),e.abrupt("return");case 4:return x(t),e.next=7,O(2019,a.Fall,2,!1);case 7:if(n=e.sent,r=document.querySelector("#brs-response-field table")){e.next=11;break}return e.abrupt("return");case 11:c=Object(p.a)(n);try{for(c.s();!(o=c.n()).done;)s=o.value,r.innerHTML+="<tr><td>".concat(s.discipline,"</td></tr>")}catch(i){c.e(i)}finally{c.f()}case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=["https://sheets.googleapis.com/$discovery/rest?version=v4"];gapi.load("client:auth2",(function(){gapi.client.init({apiKey:"AIzaSyCnKi9dwEgQxTvvvNeZNrHaCEgWrG1Ql2U",clientId:"122993083593-pacve8csj86voko30ia65raeg0ncrtuv.apps.googleusercontent.com",discoveryDocs:A,scope:"https://www.googleapis.com/auth/spreadsheets"}).then((function(){if(B.onSignInStatusChanged){var e=gapi.auth2.getAuthInstance().isSignedIn;e.listen(B.onSignInStatusChanged),B.onSignInStatusChanged(e.get())}}),B.onError)}));var B={onError:alert};function E(){gapi.auth2.getAuthInstance().signIn()}function F(){gapi.auth2.getAuthInstance().signOut()}var D="1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",L="Class data",R="A1:F";function T(){return Object(c.jsxs)("div",{className:"spreadsheet-form",children:[Object(c.jsx)("button",{id:"authorize_button",onClick:E,children:"Authorize"}),Object(c.jsx)("button",{id:"signout_button",onClick:F,style:{display:"none"},children:"Sign Out"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Spreadsheet id "}),Object(c.jsx)("input",{type:"text",id:"sprId",defaultValue:D,onBlur:function(e){return D=e.target.value}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Sheet name "}),Object(c.jsx)("input",{type:"text",id:"sheetName",defaultValue:L,onBlur:function(e){return L=e.target.value}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Range "}),Object(c.jsx)("input",{type:"text",id:"range",defaultValue:R,onBlur:function(e){return R=e.target.value}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:z,children:"Load table"}),Object(c.jsx)("button",{onClick:P,children:"Clear"}),Object(c.jsx)("p",{className:"spreadsheet-name",id:"spreadsheet-name",children:"Spreadsheet name"}),Object(c.jsx)("div",{className:"response-field",id:"table"})]})}function M(e,t){var n=document.createElement("div");n.innerText=e,t&&t.appendChild(n)}function z(){console.log("Load ".concat(R," from ").concat(L," from ").concat(D));var e=document.getElementById("table");gapi.client.sheets.spreadsheets.values.get({spreadsheetId:D,range:"".concat(L,"!").concat(R)}).then((function(t){var n=t.result;if(n.values.length>0){var r,a=Object(p.a)(n.values);try{for(a.s();!(r=a.n()).done;){M(r.value.join(" | "),e)}}catch(c){a.e(c)}finally{a.f()}}else M("No data found.",e)}),(function(e){alert(e.result.error.message)}))}function P(){var e=document.getElementById("table");e&&(e.innerHTML="")}B.onSignInStatusChanged=function(e){var t=document.getElementById("authorize_button"),n=document.getElementById("signout_button");t&&n&&(console.log("SignIn: ".concat(e)),t.style.display=e?"none":"block",n.style.display=e?"block":"none")};var q=function(){return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(I,{}),Object(c.jsx)("br",{}),Object(c.jsx)(T,{})]})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,446)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};u.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(q,{})}),document.getElementById("root")),H()}},[[445,1,2]]]);
//# sourceMappingURL=main.50ba0b70.chunk.js.map