(this["webpackJsonpbrs-extensions"]=this["webpackJsonpbrs-extensions"]||[]).push([[0],{207:function(e,t,n){},235:function(e,t){},237:function(e,t){},247:function(e,t){},249:function(e,t){},274:function(e,t){},276:function(e,t){},277:function(e,t){},283:function(e,t){},285:function(e,t){},303:function(e,t){},305:function(e,t){},317:function(e,t){},320:function(e,t){},325:function(e,t){},327:function(e,t){},350:function(e,t){},445:function(e,t,n){"use strict";n.r(t);var r,a,c=n(3),o=n(38),i=n.n(o),s=n(201),u=n.n(s),l=(n(207),n(2)),d=n.n(l),p=n(33),f=n(11),h=n(45),b=(n(16),n(109),n(108)),g=n.n(b),j="https://brs-proxy.herokuapp.com/brs/https://brs.urfu.ru/mrd",m="null";function x(e){m=e}function O(e,t,n,r){return v.apply(this,arguments)}function v(){return(v=Object(f.a)(d.a.mark((function e(t,n,r,a){var c,o,i,s,u,l,f,h;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c="?year=".concat(t,"&termType=").concat(n,"&course=").concat(r,"&total=0&page=1&pageSize=1000&search="),!a){e.next=10;break}return e.next=4,y("/mvc/mobile/module/fetch"+c);case 4:o=e.sent,i=Object(p.a)(o);try{for(i.s();!(s=i.n()).done;)s.value.isModule=!0}catch(d){i.e(d)}finally{i.f()}return e.abrupt("return",o);case 10:return e.next=12,y("/mvc/mobile/discipline/fetch"+c);case 12:u=e.sent,l=u.content,f=Object(p.a)(l);try{for(f.s();!(h=f.n()).done;)h.value.isModule=!1}catch(d){f.e(d)}finally{f.f()}return e.abrupt("return",l);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(d.a.mark((function e(t,n,r){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t,n,r);case 2:if(!(a=e.sent).trimLeft().startsWith("<!DOCTYPE html>")){e.next=5;break}throw new Error(t+" is Forbidden");case 5:return e.abrupt("return",JSON.parse(a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,n){return w.apply(this,arguments)}function w(){return(w=Object(f.a)(d.a.mark((function e(t,n,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}throw new Error("Not authenticated. Use authByConfigAsync or authAsync to authenticate");case 2:return console.log("Sid:",m),e.abrupt("return",g()(Object(h.a)(Object(h.a)({method:"GET"},n),{},{url:j+t,headers:Object(h.a)({"X-Cookie":"JSESSIONID=".concat(m),"X-Requested-With":"XMLHttpRequest"},r)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){e[e.NoFailure=-1]="NoFailure",e[e.NotChosen=-19]="NotChosen",e[e.NotAllowedByDeansOffice=-18]="NotAllowedByDeansOffice",e[e.NotAppeared=0]="NotAppeared",e[e.DisrespectfulReason=12]="DisrespectfulReason",e[e.RespectfulReason=13]="RespectfulReason",e[e.NotAllowedByTeacher=18]="NotAllowedByTeacher",e[e.ShouldNotPass=19]="ShouldNotPass",e[e.AcademicLeave=20]="AcademicLeave",e[e.DroppedOut=21]="DroppedOut"}(r||(r={})),function(e){e[e.Fall=1]="Fall",e[e.Spring=2]="Spring"}(a||(a={}));function I(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"button",value:"Load BRS",onClick:k}),Object(c.jsx)("div",{className:"response-field",id:"brs-response-field",children:Object(c.jsxs)("table",{children:[Object(c.jsx)("caption",{children:"Available disciplines"}),Object(c.jsx)("tr",{children:Object(c.jsx)("th",{children:"Discipline"})})]})})]})}function k(){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(d.a.mark((function e(){var t,n,r,c,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("sid")){e.next=4;break}return alert("No sid!"),e.abrupt("return");case 4:return x(t),e.next=7,O(2019,a.Fall,2,!1);case 7:if(n=e.sent,r=document.querySelector("#brs-response-field table")){e.next=11;break}return e.abrupt("return");case 11:c=Object(p.a)(n);try{for(c.s();!(o=c.n()).done;)i=o.value,r.innerHTML+="<tr><td>".concat(i.discipline,"</td></tr>")}catch(s){c.e(s)}finally{c.f()}case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B=localStorage.getItem("google_client_id");if(!B)throw alert("No google client id"),"No google client id";var A=B;if(!localStorage.getItem("google_api_key"))throw alert("No google api key found"),"No google api key found";var E=["https://sheets.googleapis.com/$discovery/rest?version=v4"];gapi.load("client:auth2",(function(){gapi.client.init({apiKey:"",clientId:A,discoveryDocs:E,scope:"https://www.googleapis.com/auth/spreadsheets"}).then((function(){if(F.onSignInStatusChanged){var e=gapi.auth2.getAuthInstance().isSignedIn;e.listen(F.onSignInStatusChanged),F.onSignInStatusChanged(e.get())}}),F.onError)}));var F={onError:alert};function D(){gapi.auth2.getAuthInstance().signIn()}function L(){gapi.auth2.getAuthInstance().signOut()}var R="1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",T="Class data",M="A1:F";function _(){return Object(c.jsxs)("div",{className:"spreadsheet-form",children:[Object(c.jsx)("button",{id:"authorize_button",onClick:D,children:"Authorize"}),Object(c.jsx)("button",{id:"signout_button",onClick:L,style:{display:"none"},children:"Sign Out"}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Spreadsheet id "}),Object(c.jsx)("input",{type:"text",id:"sprId",defaultValue:R,onBlur:function(e){return R=e.target.value}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Sheet name "}),Object(c.jsx)("input",{type:"text",id:"sheetName",defaultValue:T,onBlur:function(e){return T=e.target.value}}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Range "}),Object(c.jsx)("input",{type:"text",id:"range",defaultValue:M,onBlur:function(e){return M=e.target.value}}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:q,children:"Load table"}),Object(c.jsx)("button",{onClick:z,children:"Clear"}),Object(c.jsx)("p",{className:"spreadsheet-name",id:"spreadsheet-name",children:"Spreadsheet name"}),Object(c.jsx)("div",{className:"response-field",id:"table"})]})}function P(e,t){var n=document.createElement("div");n.innerText=e,t&&t.appendChild(n)}function q(){console.log("Load ".concat(M," from ").concat(T," from ").concat(R));var e=document.getElementById("table");gapi.client.sheets.spreadsheets.values.get({spreadsheetId:R,range:"".concat(T,"!").concat(M)}).then((function(t){var n=t.result;if(n.values.length>0){var r,a=Object(p.a)(n.values);try{for(a.s();!(r=a.n()).done;){P(r.value.join(" | "),e)}}catch(c){a.e(c)}finally{a.f()}}else P("No data found.",e)}),(function(e){alert(e.result.error.message)}))}function z(){var e=document.getElementById("table");e&&(e.innerHTML="")}F.onSignInStatusChanged=function(e){var t=document.getElementById("authorize_button"),n=document.getElementById("signout_button");t&&n&&(console.log("SignIn: ".concat(e)),t.style.display=e?"none":"block",n.style.display=e?"block":"none")};var J=function(){return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsx)(I,{}),Object(c.jsx)("br",{}),Object(c.jsx)(_,{})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,446)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};u.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),V()}},[[445,1,2]]]);
//# sourceMappingURL=main.e6e7e2e8.chunk.js.map